function SRFMFormatNumber(e,t){if(!e)return"";if(1===(e=e.replace(/(?!^-)[^0-9,.-]+/g,"")).length&&"-"===e||e.endsWith(".")||e.endsWith(","))return e;let r="eu-style"===t?",":".";let n="",s=((e=>{e=e.split(r);return!(2!==e.length||!e[1].includes("0"))})(e)&&(n=e.split(r)[1]),"");var i={style:"decimal",maximumFractionDigits:20};return s="eu-style"===t?(t=parseFloat(e.replace(/\./g,"").replace(",",".")),new Intl.NumberFormat("de-DE",i).format(t)):new Intl.NumberFormat("en-US",i).format(parseFloat(e.replace(/,/g,""))),"NaN"===(s=n?s.split(r)[0]+r+n:s)?"":s}function initializeNumberField(){var e=document.querySelectorAll(".srfm-number-block");e&&e.forEach(e=>{let t=e.querySelector("input");t&&(t.addEventListener("input",e=>{t.value=e.target.value.replace(/(?!^-)[^0-9,.-]+/g,"")}),t.addEventListener("change",e=>{t.value=SRFMFormatNumber(e.target.value,t.getAttribute("format-type"))}),t.dispatchEvent(new Event("change")),t.addEventListener("focus",e=>{e=e.target.closest(".srfm-input-content");e&&(e.classList.add("srfm-input-focused"),e.classList.remove("srfm-input-filled"))}),t.addEventListener("blur",e=>{var t=e.target.closest(".srfm-input-content");t&&(t.classList.remove("srfm-input-focused"),e.target.value?t.classList.add("srfm-input-filled"):t.classList.remove("srfm-input-filled"))}),t.addEventListener("mouseenter",e=>{e=e.target.closest(".srfm-input-content");e&&e.classList.add("srfm-input-hovered")}),t.addEventListener("mouseleave",e=>{e=e.target.closest(".srfm-input-content");e&&e.classList.remove("srfm-input-hovered")}),t.value)&&(e=t.closest(".srfm-input-content"))&&e.classList.add("srfm-input-filled")})}document.addEventListener("DOMContentLoaded",initializeNumberField),document.addEventListener("srfm_init_number_field",()=>{initializeNumberField()});